---
title: CODA_REPLAY(1)
footer: Coda Distributed File System
date: 2005-04-25
---

## NAME

coda\_replay - Manual reintegration tool

## SYNOPSIS

**coda\_replay** \[key] filename

## DESCRIPTION

**coda\_replay** is a tool for manually reintegrating operations done at
a disconnected client. It provides a superset of the functionality of
the tape-archive program, **tar**(1). The **key** argument is a string of
characters containing exactly one function letter and possibly one or
more function modifiers. The *filename* argument specifies the
tar/replay format file containing the operations to be replayed.

The function portion of the key is specified by one of the following
letters:

**r**

:   Replay all operations specified in the file.

**s**

:   Strip out non-tar operations from the file and replay only the tar
    operations.

**t**

:   Do not replay but simply list the operations specified in the file.

The following characters may be used in addition to the letter which
selects the function desired:

**v**

:   Be verbose about the operations.

**h**

:   Be harsh in replay, i.e., abort the program if any replayed
    operation fails.

**coda\_replay** can handle normal tar files since it invokes tar to
perform **create**, **link**, and **symlink** operations. However, its
main purpose is to replay checkpoint files saved by the Coda cache
manager, Venus, during disconnected operation. These files may contain
operations unknown to tar: **setattr**, **unlink**, **rename**,
**mkdir**, and **rmdir**. These other operations are encoded in the tar
file by overloading the linkflag and linkname fields. Consult the
replay.h header file for more details.

## BUGS

- There is a limit of 100 characters imposed on filename length by tar.

- Filenames in checkpoint files generated by Venus are all relative to the
  enclosing volume root.

## SEE ALSO

**tar**(1), **tar**(5), **venus**(8)

## AUTHORS

- Jay Kistler, 1990, Created
